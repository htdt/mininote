<mat-spinner *ngIf='backup.pending$ | async' color='accent' diameter='30'></mat-spinner>


<button *ngIf='crypto.unlocked$ | async' mat-icon-button (click)='crypto.lock()'
  matTooltip='lock encrypted notes'>
  <mat-icon>lock_open</mat-icon>
</button>

<button mat-icon-button [matMenuTriggerFor]="menu">
  <mat-icon>more_vert</mat-icon>
</button>

<mat-menu #menu>
  <button mat-menu-item *ngIf='(gapi.signed$ | async) === false' (click)='gapi.signIn()'>
    Sync with Google Drive
  </button>

  <button mat-menu-item *ngIf='gapi.signed$ | async' (click)='logout()'>
    Logout and cleanup
  </button>

  <button mat-menu-item *ngIf='notes.length | async' (click)='backup.downloadFile()'>
    Download backup
  </button>

  <button mat-menu-item (click)='uploadJSON()'>
    Restore from backup
  </button>
</mat-menu>
